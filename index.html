<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DIANA - Diabetes Risk Assessment</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Login Page -->
    <div id="login-page" class="login-container">
        <div class="login-card">
            <div class="login-header">
                <h1>DIANA</h1>
                <p>Diabetes Risk Assessment in Menopausal Women</p>
            </div>
            <form id="login-form" class="login-form">
                <div class="form-group">
                    <label for="email" class="form-label">Email</label>
                    <input type="email" id="email" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="password" class="form-label">Password</label>
                    <input type="password" id="password" class="form-control" required>
                </div>
                <button type="submit" class="btn btn--primary btn--full-width">Sign In</button>
                <a href="#" id="forgot-password" class="forgot-password-link">Forgot Password?</a>
            </form>
        </div>
    </div>

    <!-- Main Application -->
    <div id="main-app" class="app-container hidden">
        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <h2>DIANA</h2>
            </div>
            <ul class="sidebar-menu">
                <li class="menu-item active" data-page="dashboard">
                    <i class="fas fa-home"></i>
                    <span>Dashboard</span>
                </li>
                <li class="menu-item" data-page="data-collection">
                    <i class="fas fa-plus-circle"></i>
                    <span>Data Collection</span>
                </li>
                <li class="menu-item" data-page="analytics">
                    <i class="fas fa-chart-bar"></i>
                    <span>Analytics</span>
                </li>
                <li class="menu-item" data-page="predictions">
                    <i class="fas fa-bullseye"></i>
                    <span>Predictions</span>
                </li>
                <li class="menu-item" data-page="patients">
                    <i class="fas fa-users"></i>
                    <span>Patients</span>
                </li>
                <li class="menu-item" data-page="export">
                    <i class="fas fa-download"></i>
                    <span>Export</span>
                </li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Page -->
            <div id="dashboard-page" class="page active">
                <div class="page-header">
                    <h1>Dashboard</h1>
                    <p>Overview of participant data and key metrics</p>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="total-participants">81</h3>
                            <p>Total Participants</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-user-check"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="average-age">53.2</h3>
                            <p>Average Age</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-weight"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="average-bmi">27.8</h3>
                            <p>Average BMI</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="high-risk-count">24</h3>
                            <p>High Risk</p>
                        </div>
                    </div>
                </div>

                <div class="charts-grid">
                    <div class="chart-card">
                        <h3>Age Distribution</h3>
                        <div class="chart-container" style="position: relative; height: 300px;">
                            <canvas id="age-distribution-chart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h3>BMI Categories</h3>
                        <div class="chart-container" style="position: relative; height: 300px;">
                            <canvas id="bmi-categories-chart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h3>Menopause Stages</h3>
                        <div class="chart-container" style="position: relative; height: 300px;">
                            <canvas id="menopause-stages-chart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h3>Risk Distribution</h3>
                        <div class="chart-container" style="position: relative; height: 300px;">
                            <canvas id="risk-distribution-chart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Data Collection Page -->
            <div id="data-collection-page" class="page">
                <div class="page-header">
                    <h1>Data Collection</h1>
                    <p>Add new participant data</p>
                </div>

                <div class="data-collection-tabs">
                    <button class="tab-button active" data-tab="manual-form">Manual Entry</button>
                    <button class="tab-button" data-tab="csv-upload">CSV Upload</button>
                </div>

                <!-- Manual Form Tab -->
                <div id="manual-form" class="tab-content active">
                    <div class="form-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" id="form-progress"></div>
                        </div>
                        <span class="progress-text">0% Complete</span>
                    </div>

                    <form id="participant-form" class="participant-form">
                        <div class="form-section">
                            <h3>Demographic Information</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="participant-name" class="form-label">Name</label>
                                    <input type="text" id="participant-name" class="form-control" required>
                                </div>
                                <div class="form-group">
                                    <label for="participant-age" class="form-label">Age (40-70)</label>
                                    <input type="range" id="participant-age" class="form-control" min="40" max="70" value="50">
                                    <span id="age-display">50</span>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="height" class="form-label">Height (cm)</label>
                                    <input type="number" id="height" class="form-control" min="140" max="200">
                                </div>
                                <div class="form-group">
                                    <label for="weight" class="form-label">Weight (kg)</label>
                                    <input type="number" id="weight" class="form-control" min="40" max="150">
                                </div>
                                <div class="form-group">
                                    <label for="bmi" class="form-label">BMI (auto-calculated)</label>
                                    <input type="text" id="bmi" class="form-control" readonly>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>Menopause Information</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="menopause-status" class="form-label">Menopause Status</label>
                                    <select id="menopause-status" class="form-control" required>
                                        <option value="">Select status</option>
                                        <option value="Pre-menopause">Pre-menopause</option>
                                        <option value="Peri-menopause">Peri-menopause</option>
                                        <option value="Post-menopause">Post-menopause</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="years-since-menopause" class="form-label">Years Since Menopause</label>
                                    <input type="number" id="years-since-menopause" class="form-control" min="0" max="30">
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>Clinical Data</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="systolic-bp" class="form-label">Systolic BP</label>
                                    <input type="number" id="systolic-bp" class="form-control" min="90" max="200">
                                </div>
                                <div class="form-group">
                                    <label for="diastolic-bp" class="form-label">Diastolic BP</label>
                                    <input type="number" id="diastolic-bp" class="form-control" min="60" max="120">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="glucose" class="form-label">Fasting Blood Sugar / FBS (mg/dL)</label>
                                    <input type="number" id="glucose" class="form-control" min="70" max="200" placeholder="e.g., 95" required>
                                </div>
                                <div class="form-group">
                                    <label for="hba1c" class="form-label">HbA1c (%)</label>
                                    <input type="number" id="hba1c" class="form-control" min="4" max="15" step="0.1">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="triglycerides" class="form-label">Triglycerides (mg/dL)</label>
                                    <input type="number" id="triglycerides" name="triglycerides" class="form-control" min="0" max="500" step="1" placeholder="e.g., 150">
                                </div>
                                <div class="form-group">
                                    <label for="total-cholesterol" class="form-label">Total Cholesterol (mg/dL)</label>
                                    <input type="number" id="total-cholesterol" name="total-cholesterol" class="form-control" min="0" max="400" step="1" placeholder="e.g., 200">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="ldl-cholesterol" class="form-label">LDL Cholesterol (mg/dL)</label>
                                    <input type="number" id="ldl-cholesterol" name="ldl-cholesterol" class="form-control" min="0" max="300" step="1" placeholder="e.g., 100">
                                </div>
                                <div class="form-group">
                                    <label for="hdl-cholesterol" class="form-label">HDL Cholesterol (mg/dL)</label>
                                    <input type="number" id="hdl-cholesterol" name="hdl-cholesterol" class="form-control" min="20" max="100" step="1" placeholder="e.g., 50">
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>Lifestyle Factors</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="physical-activity" class="form-label">Physical Activity</label>
                                    <select id="physical-activity" class="form-control" required>
                                        <option value="">Select activity level</option>
                                        <option value="Low">Low</option>
                                        <option value="Moderate">Moderate</option>
                                        <option value="High">High</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Smoking Status</label>
                                <div class="radio-group">
                                    <label class="radio-option">
                                        <input type="radio" name="smoking-status" value="Never"> Never
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="smoking-status" value="Former"> Former
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="smoking-status" value="Current"> Current
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>Medical History</h3>
                            <div class="form-group">
                                <label class="form-label">Family History of Diabetes</label>
                                <div class="radio-group">
                                    <label class="radio-option">
                                        <input type="radio" name="family-history" value="Yes"> Yes
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="family-history" value="No"> No
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="family-history" value="Unknown"> Unknown
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="button" class="btn btn--secondary" id="save-draft">Save Draft</button>
                            <button type="submit" class="btn btn--primary">Save Participant</button>
                        </div>
                    </form>
                </div>

                <!-- CSV Upload Tab -->
                <div id="csv-upload" class="tab-content">
                    <div class="upload-area">
                        <div class="upload-box">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <h3>Upload CSV File</h3>
                            <p>Drag and drop your CSV file here or click to browse</p>
                            <input type="file" id="csv-file" accept=".csv" class="hidden">
                            <button type="button" class="btn btn--primary" id="browse-csv">Browse Files</button>
                        </div>
                    </div>
                    <div id="csv-preview" class="csv-preview hidden">
                        <h3>Preview</h3>
                        <table id="csv-table" class="data-table">
                            <thead id="csv-header"></thead>
                            <tbody id="csv-body"></tbody>
                        </table>
                        <div class="form-actions">
                            <button type="button" class="btn btn--primary" id="import-csv">Import Data</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Analytics Page -->
            <div id="analytics-page" class="page">
                <div class="page-header">
                    <h1>Analytics</h1>
                    <p>Advanced visualizations and insights</p>
                </div>

                <div class="charts-grid">
                    <div class="chart-card">
                        <h3>Biomarker Feature Importance</h3>
                        <p class="chart-subtitle">Contribution of each biomarker to diabetes risk prediction</p>
                        <div class="chart-container" style="position: relative; height: 300px;">
                            <canvas id="risk-factors-chart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h3>BMI vs Glucose Correlation</h3>
                        <div class="chart-container" style="position: relative; height: 300px;">
                            <canvas id="bmi-glucose-chart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Predictions Page -->
            <div id="predictions-page" class="page">
                <div class="page-header">
                    <h1>Prediction Results</h1>
                    <p>Individual risk assessments</p>
                </div>

                <div class="prediction-content">
                    <div class="participant-selector">
                        <label for="participant-select" class="form-label">Select Participant</label>
                        <select id="participant-select" class="form-control">
                            <option value="">Choose a participant</option>
                        </select>
                    </div>

                    <div id="prediction-results" class="prediction-results hidden">
                        <div class="risk-score-card">
                            <h3>Risk Score</h3>
                            <div class="risk-gauge">
                                <canvas id="risk-gauge-chart"></canvas>
                            </div>
                            <div class="risk-level">
                                <span id="risk-level-text">Medium Risk</span>
                            </div>
                        </div>

                        <div class="feature-contributions">
                            <h3>Risk Factors Contribution</h3>
                            <div class="chart-container" style="position: relative; height: 300px;">
                                <canvas id="feature-contribution-chart"></canvas>
                            </div>
                        </div>

                        <div class="recommendations">
                            <h3>Recommendations</h3>
                            <div id="recommendations-list" class="recommendations-list">
                                <!-- Recommendations will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Patients Page -->
            <div id="patients-page" class="page">
                <div class="page-header">
                    <h1>Patients</h1>
                    <p>Manage participant records</p>
                    <div class="search-box">
                        <input type="text" id="patient-search" class="form-control" placeholder="Search patients...">
                        <i class="fas fa-search"></i>
                    </div>
                </div>

                <div class="patients-table">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Age</th>
                                <th>BMI</th>
                                <th>Menopause Status</th>
                                <th>Risk Score</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="patients-tbody">
                            <!-- Patient rows will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Export Page -->
            <div id="export-page" class="page">
                <div class="page-header">
                    <h1>Export Data</h1>
                    <p>Download datasets and reports</p>
                </div>

                <div class="export-options">
                    <div class="export-card">
                        <h3>Export Participant Data</h3>
                        <p>Download complete participant dataset</p>
                        <button class="btn btn--primary" id="export-all-csv">Export as CSV</button>
                        <button class="btn btn--secondary" id="export-all-excel">Export as Excel</button>
                    </div>

                    <div class="export-card">
                        <h3>Export Analytics Report</h3>
                        <p>Download comprehensive analytics report</p>
                        <button class="btn btn--primary" id="export-report">Generate Report</button>
                    </div>

                    <div class="export-card">
                        <h3>Filtered Export</h3>
                        <p>Export data based on selected criteria</p>
                        <div class="filter-controls">
                            <select id="filter-menopause" class="form-control">
                                <option value="">All Menopause Stages</option>
                                <option value="Pre-menopause">Pre-menopause</option>
                                <option value="Peri-menopause">Peri-menopause</option>
                                <option value="Post-menopause">Post-menopause</option>
                            </select>
                            <select id="filter-risk" class="form-control">
                                <option value="">All Risk Levels</option>
                                <option value="low">Low Risk</option>
                                <option value="medium">Medium Risk</option>
                                <option value="high">High Risk</option>
                            </select>
                        </div>
                        <button class="btn btn--primary" id="export-filtered">Export Filtered Data</button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Notifications -->
    <div id="notification-container" class="notification-container"></div>

    <!-- Modal for Password Reset -->
    <div id="password-reset-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Reset Password</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="password-reset-form">
                    <div class="form-group">
                        <label for="reset-email" class="form-label">Email Address</label>
                        <input type="email" id="reset-email" class="form-control" required>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn--secondary modal-close">Cancel</button>
                        <button type="submit" class="btn btn--primary">Send Reset Link</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>